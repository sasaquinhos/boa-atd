<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ボアソルチ出欠確認</title>
    <!-- Cache Busting Style -->
    <link rel="stylesheet" href="reysol-attendance/style.css?v=20260123_DEBUGFINAL">
    <script>
        window.onerror = function (msg, url, line, col, error) {
            const el = document.getElementById('debug-content');
            if (el) {
                el.innerHTML += `<div style="color:red; border:1px solid red; margin:5px; padding:5px;">
                    <strong>Global Error:</strong> ${msg}<br/>
                    ${url}:${line}:${col}<br/>
                    ${error ? error.stack : ''}
                </div>`;
                document.getElementById('debug-overlay').style.display = 'block';
            }
        };
    </script>
</head>

<body>
    <!-- Display Block by default for debugging -->
    <div id="debug-overlay"
        style="display:block; background:rgba(0,0,0,0.85); color:lime; position:fixed; top:0; left:0; width:100%; height:50vh; overflow:scroll; z-index:9999; font-size:11px; font-family:monospace; padding:10px; border-bottom: 2px solid white;">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
            <strong>MOBILE DEBUG v3</strong>
            <button onclick="document.getElementById('debug-overlay').style.display='none'"
                style="font-size:14px; padding:5px;">CLOSE</button>
        </div>
        <div id="debug-content">
            Initializing...<br />
            Global Handler Ready.<br />
        </div>
    </div>
    <header class="header">
        <div class="container header-container">
            <h1 class="app-title">ボアソルチ出欠確認</h1>
        </div>
    </header>

    <main class="container">
        <div class="nav-links-container">
            <a href="reysol-attendance/manual.html" class="nav-link">操作マニュアル</a>
            <a href="reysol-attendance/rankings.html" class="nav-link">いつもの場所を守ってくれる人たち</a>
            <a href="reysol-attendance/admin.html" class="nav-link">管理者ページへ</a>
        </div>
        <!-- Controls Section -->
        <section class="controls-section" style="display: flex; flex-direction: column; gap: 1rem;">
            <!-- Row 1: League -->
            <div class="control-group">
                <label for="current-league-select" class="control-label">リーグ選択</label>
                <select id="current-league-select" class="form-select"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #ddd;">
                    <option value="">-- 全ての期間 --</option>
                </select>
            </div>

            <!-- Row 2: Member -->
            <div class="control-group">
                <label for="current-user-select" class="control-label">メンバー選択</label>
                <select id="current-user-select" class="form-select user-select"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #ddd;">
                    <option value="">読み込み中...</option>
                </select>
            </div>

            <!-- Row 3: Match -->
            <div class="control-group">
                <label for="current-match-select" class="control-label">試合選択</label>
                <select id="current-match-select" class="form-select"
                    style="width: 100%; padding: 0.5rem; border-radius: 4px; border: 1px solid #ddd;">
                    <option value="">-- 試合を選択 --</option>
                </select>
            </div>
        </section>

        <!-- Match List -->
        <div id="matches-container" class="matches-list">
            <!-- Matches will be injected here -->
        </div>
    </main>

    <script src="reysol-attendance/app.js?v=20260123_FIX_PARSEDATE_V4"></script>
</body>

</html>
